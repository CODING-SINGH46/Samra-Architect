<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Consultation | Samra Architect</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

  <nav class="navbar">
    <div class="nav-container">
      <div class="logo">
        <h2>Samra Architect</h2>
      </div>
      <ul class="nav-menu">
        <li><a href="index.html">Home</a></li>
        <li><a href="index.html#services">Services</a></li>
        <li><a href="price.html">Pricing</a></li>
        <li><a href="book.html" class="nav-btn">Book Now</a></li>
      </ul>
      <div class="hamburger" onclick="toggleMenu()">
        <i class="fas fa-bars"></i>
      </div>
    </div>
  </nav>

  <header class="small-header">
    <div class="container">
      <h1>Book Your Consultation</h1>
      <p>Complete the form below and we'll contact you within 24 hours</p>
    </div>
  </header>

  <section class="section">
    <div class="container">
      <div class="booking-container">
        <div class="booking-steps">
          <div class="step active">
            <span class="step-number">1</span>
            <span class="step-text">Your Details</span>
          </div>
          <div class="step">
            <span class="step-number">2</span>
            <span class="step-text">Payment</span>
          </div>
          <div class="step">
            <span class="step-number">3</span>
            <span class="step-text">Confirmation</span>
          </div>
        </div>

        <form class="booking-form" id="bookingForm" onsubmit="submitBooking(event)">
          <div class="form-row">
            <div class="form-group">
              <label for="name"><i class="fas fa-user"></i> Full Name *</label>
              <input type="text" id="name" placeholder="John Smith" required>
            </div>
            <div class="form-group">
              <label for="email"><i class="fas fa-envelope"></i> Email Address *</label>
              <input type="email" id="email" placeholder="john@example.com" required>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="phone"><i class="fas fa-phone"></i> Phone Number *</label>
              <input type="tel" id="phone" placeholder="+91 98765 43210" required>
            </div>
            <div class="form-group">
              <label for="address"><i class="fas fa-map-marker-alt"></i> Project Location</label>
              <input type="text" id="address" placeholder="City, State">
            </div>
          </div>

          <!-- Select Category -->
          <div class="form-group">
            <label for="category"><i class="fas fa-layer-group"></i> Select Plan Category *</label>
            <select id="category" required onchange="loadPlans()">
              <option value="">Choose category...</option>
              <option value="blueprint">Blue Prints</option>
              <option value="layout">Layout Plans</option>
            </select>
          </div>

          <!-- Select Plan -->
          <div class="form-group" id="planGroup" style="display:none;">
            <label for="service"><i class="fas fa-concierge-bell"></i> Select Plan *</label>
            <select id="service" required onchange="handlePlanChange()">
              <option value="">Choose plan...</option>
            </select>
          </div>

          <!-- Square Feet Input (Only for 3D Elevation) -->
          <div class="form-group" id="sqftGroup" style="display:none;">
            <label for="sqft"><i class="fas fa-ruler-combined"></i> Enter Total Area (sq.ft) *</label>
            <input type="number" id="sqft" placeholder="Enter square feet" min="1" oninput="calculateTotal()">
          </div>
          <div class="form-group checkbox">
            <input type="checkbox" id="terms" required>
            <label for="terms">I agree to the <a href="#">terms and conditions</a> and privacy policy</label>
          </div>

          <div class="price-summary" id="priceSummary" style="display:none;">
            <h3>Order Summary</h3>
            <div class="summary-details">
              <div class="summary-item">
                <span>Service:</span>
                <span id="serviceName">-</span>
              </div>
              <div class="summary-item">
                <span>Amount:</span>
                <span class="price" id="servicePrice">₹0</span>
              </div>
            </div>
          </div>

          <button type="submit" class="btn btn-primary btn-large">
            <i class="fas fa-arrow-right"></i> Proceed to Payment
          </button>
        </form>
      </div>
    </div>
  </section>

  <footer>
    <div class="footer-container">
      <div class="footer-col">
        <h3>Need Help?</h3>
        <p><i class="fas fa-phone"></i> +91 98765 43210</p>
        <p><i class="fas fa-envelope"></i> support@samraarchitect.com</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>© 2026 Samra Architect. All rights reserved.</p>
    </div>
  </footer>

  <script src="script.js"></script>
  <script>
const plans = {
  blueprint: [
    { value: "registry", name: "Registry of Plot", price: 299, type: "fixed" },
    { value: "patta", name: "Patta of Plot", price: 499, type: "fixed" },
    { value: "construction", name: "House Construction Plan", price: 799, type: "fixed" }
  ],
  layout: [
    { value: "ground", name: "Ground Plan", price: 2499, type: "fixed" },
    { value: "groundfirst", name: "Ground + First Floor", price: 4499, type: "fixed" },
    { value: "front3d", name: "3D Elevation - Only Front", price: 11, type: "perSqft" },
    { value: "corner3d", name: "3D Elevation - Corner House", price: 13, type: "perSqft" },
    { value: "fullplan", name: "Full Plans with Elevation", price: 15, type: "perSqft" }
  ]
};

let selectedPlan = null;

function loadPlans() {
  const category = document.getElementById("category").value;
  const serviceSelect = document.getElementById("service");

  serviceSelect.innerHTML = '<option value="">Choose plan...</option>';
  document.getElementById("planGroup").style.display = "none";
  resetPricing();

  if (!plans[category]) return;

  plans[category].forEach(plan => {
    const option = document.createElement("option");
    option.value = plan.value;
    option.textContent = plan.name;
    serviceSelect.appendChild(option);
  });

  document.getElementById("planGroup").style.display = "block";
}

function handlePlanChange() {
  const category = document.getElementById("category").value;
  const planValue = document.getElementById("service").value;

  resetPricing();

  if (!planValue) return;

  selectedPlan = plans[category].find(p => p.value === planValue);

  if (!selectedPlan) return;

  document.getElementById("serviceName").textContent = selectedPlan.name;

  if (selectedPlan.type === "perSqft") {
    document.getElementById("sqftGroup").style.display = "block";
    document.getElementById("servicePrice").textContent =
      `₹${selectedPlan.price} per sq.ft`;
  } else {
    document.getElementById("sqftGroup").style.display = "none";
    document.getElementById("servicePrice").textContent =
      `₹${selectedPlan.price}`;
  }

  document.getElementById("priceSummary").style.display = "block";
}

function calculateTotal() {
  if (!selectedPlan) return;

  if (selectedPlan.type !== "perSqft") return;

  const sqft = parseInt(document.getElementById("sqft").value);

  if (!sqft || sqft <= 0) {
    document.getElementById("servicePrice").textContent =
      `₹${selectedPlan.price} per sq.ft`;
    return;
  }

  const total = selectedPlan.price * sqft;

  document.getElementById("serviceName").textContent =
    `${selectedPlan.name} (${sqft} sq.ft)`;

  document.getElementById("servicePrice").textContent =
    `₹${total}`;
}

function resetPricing() {
  selectedPlan = null;
  document.getElementById("sqftGroup").style.display = "none";
  document.getElementById("sqft").value = "";
  document.getElementById("priceSummary").style.display = "none";
}

function submitBooking(e) {
  e.preventDefault();

  if (!selectedPlan) {
    alert("Please select a plan.");
    return;
  }

  let finalPrice = selectedPlan.price;

  if (selectedPlan.type === "perSqft") {
    const sqft = parseInt(document.getElementById("sqft").value);
    if (!sqft || sqft <= 0) {
      alert("Please enter valid square feet.");
      return;
    }
    finalPrice = selectedPlan.price * sqft;
  }

  const formData = {
    name: document.getElementById("name").value,
    email: document.getElementById("email").value,
    phone: document.getElementById("phone").value,
    address: document.getElementById("address").value,
    service: selectedPlan.name,
    price: finalPrice
  };

  localStorage.setItem("bookingDetails", JSON.stringify(formData));

  window.location.href =
    `payment.html?price=${finalPrice}&service=${encodeURIComponent(selectedPlan.name)}`;
}
</script>
</body>

</html>